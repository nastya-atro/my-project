(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{255:function(e,t,c){e.exports={chatPage:"ChatPages_chatPage__1aX-z",imgUser:"ChatPages_imgUser__Vjvm_"}},257:function(e,t,c){"use strict";c.r(t);var n=c(22),s=c(0),r=c.n(s),a=c(255),i=c.n(a),j=c(8),u=c(110),o=c(1),b=function(){var e=Object(j.c)();return Object(s.useEffect)((function(){return e(Object(u.c)()),function(){e(Object(u.d)())}}),[]),Object(o.jsxs)("div",{className:i.a.chatPage,children:[Object(o.jsx)("h3",{children:"Chat online"}),Object(o.jsx)(l,{}),Object(o.jsx)(O,{})]})},l=function(){var e=Object(j.d)((function(e){return e.chat.messages})),t=Object(s.useRef)(null),c=Object(s.useState)(!0),r=Object(n.a)(c,2),a=r[0],i=r[1],u=e.map((function(e,t){return Object(o.jsx)(h,{message:e},t)}));return Object(s.useEffect)((function(){var e;a&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(o.jsxs)("div",{style:{height:"500px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!a&&i(!0):a&&i(!1)},children:[u,Object(o.jsx)("div",{ref:t})]})},h=r.a.memo((function(e){var t=e.message;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:i.a.imgUser,children:Object(o.jsx)("img",{src:t.photo})}),Object(o.jsx)("div",{children:t.userName}),Object(o.jsx)("div",{children:t.message})]})})),O=function(){var e=Object(s.useState)(""),t=Object(n.a)(e,2),c=t[0],r=t[1],a=Object(j.d)((function(e){return e.chat.status})),i=Object(j.c)();return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("textarea",{value:c,onChange:function(e){return r(e.currentTarget.value)}})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{disabled:"ready"!==a,onClick:function(){c&&(i(Object(u.b)(c)),r(""))},children:"Send"})})]})};t.default=function(){return Object(o.jsx)(b,{})}}}]);
//# sourceMappingURL=4.92627d35.chunk.js.map