(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var s=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,105)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),r(e),o(e)}))},a=n(1),r=n.n(a),o=n(39),i=n.n(o),c=(n(73),n(21)),u=n(22),l=n(24),p=n(23),d=n(2),j=n(0),b=(n(75),n(17)),f=n(19),h=n.n(f),m=function(){return Object(j.jsxs)("nav",{className:h.a.nav,children:[Object(j.jsx)("div",{className:"".concat(h.a.item),children:Object(j.jsx)(b.b,{to:"/profile",activeClassName:h.a.active,children:"Profile"})}),Object(j.jsx)("div",{className:h.a.item,children:Object(j.jsx)(b.b,{to:"/users",activeClassName:h.a.active,children:"Users"})}),Object(j.jsx)("div",{className:"".concat(h.a.item),children:Object(j.jsx)(b.b,{to:"/dialog",activeClassName:h.a.active,children:" Messages"})}),Object(j.jsx)("div",{className:h.a.item,children:Object(j.jsx)(b.b,{to:"/music",activeClassName:h.a.active,children:"Music"})}),Object(j.jsx)("div",{className:h.a.item,children:Object(j.jsx)(b.b,{to:"/setting",activeClassName:h.a.active,children:"Setting"})})]})},O=function(e){return Object(j.jsx)("div",{children:"Music"})},g=function(e){return Object(j.jsx)("div",{children:"Setting"})},_=n(3),x=n(12),v=n(5),P=n.n(v),w=n(16),y=n(60),N=n.n(y).a.create({withCredentials:!0,headers:{"API-KEY":"e33a9b28-32d1-4022-81b8-0bd4ba992caa"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),k={getUsers:function(e,t){return N.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},postFollow:function(e){return N.post("follow/".concat(e),{})},deleteFollow:function(e){return N.delete("follow/".concat(e))},getProfile:function(e){return N.get("profile/"+e)}},S=function(){return N.get("auth/me")},C=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return N.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s})},I=function(){return N.delete("auth/login")},A=function(){return N.get("security/get-captcha-url")},T=function(e){return N.get("profile/status/"+e)},U=function(e){return N.put("profile/status",{status:e})},F=function(e){var t=new FormData;return t.append("image",e),N.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},M=function(e){return N.put("profile",e)},B="SET_USER_DATA",E="GET_CAPTCHA",L={id:null,email:null,login:null,isAuth:!1,captcha:null},D=function(e,t,n,s){return{type:B,payload:{id:e,email:t,login:n,isAuth:s}}},q=function(){return function(e){S().then((function(t){if(0===t.data.resultCode){var n=t.data.data,s=n.id,a=n.email,r=n.login;e(D(s,a,r,!0))}}))}},R=function(){return function(){var e=Object(w.a)(P.a.mark((function e(t){var n,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:n=e.sent,s=n.data.url,t({type:E,payload:{captcha:s}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case E:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},J=n(59),W=n(36),V="profile/ADD-POST",G="profile/SET_USER_PROFILE",H="profile/SET_STATUS",Y="profile/DEL_POST",Q="profile/PUT_PHOTO",Z={posts:[{id:1,message:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat.",likesNumber:"22"},{id:2,message:"Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? ",likesNumber:"18"},{id:3,message:"Nothing, everything, anything, something: if you have nothing, then you have everything, because you have the freedom to do anything, without the fear of losing something.",likesNumber:"18"}],profile:null,status:""},X=function(e){return{type:H,status:e}},K=function(e){return{type:Q,photos:e}},$=function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getProfile(e);case 2:s=t.sent,n((a=s.data,{type:G,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var n={id:3,message:t.newPostText,likesNumber:0};return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(W.a)(e.posts),[n])});case G:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case H:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case Y:return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case Q:return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photos})});default:return e}},te={},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return e},se="users/FOLLOW",ae="users/UNFOLLOW",re="users/SET_USERS",oe="users/SET_CURRENT_PAGE",ie="users/SET_TOTAL_CURRENT",ce="users/TOOGLE_IS_FETCING",ue="users/TOOGLE_IS_FOLLOWING_PROGRESS",le={users:[],pageSize:48,totalUsersCount:0,currentPage:1,isfetcing:!0,followingInProgress:[]},pe=function(e){return{type:se,userId:e}},de=function(e){return{type:ae,userId:e}},je=function(e){return{type:oe,currentPage:e}},be=function(e){return{type:ce,isfetcing:e}},fe=function(e,t){return{type:ue,isfetcing:e,userId:t}},he=function(){var e=Object(w.a)(P.a.mark((function e(t,n,s,a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(fe(!0,n)),e.next=3,s(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(fe(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}(),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case ae:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case re:return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case oe:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case ie:return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.totalCount});case ce:return Object(d.a)(Object(d.a)({},e),{},{isfetcing:t.isfetcing});case ue:return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.isfetcing?[].concat(Object(W.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Oe=n(61),ge="INITIALISED_SUCCESS",_e={isInitialised:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(d.a)(Object(d.a)({},e),{},{isInitialised:!0});default:return e}},ve=Object(x.c)({profilePage:ee,messagesPage:J.a,sidebar:ne,usersPage:me,auth:z,app:xe}),Pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,we=Object(x.e)(ve,Pe(Object(x.a)(Oe.a)));window.__store__=we;var ye=we,Ne=n(9),ke=n(40),Se=n(32),Ce=n(44),Ie=n.n(Ce),Ae=n(64),Te=n.n(Ae),Ue=function(e){for(var t=e.totalUsersCount,n=e.pageSize,s=e.currentPage,r=e.onPageChanged,o=e.portionSize,i=void 0===o?10:o,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var p=Math.ceil(c/i),d=Object(a.useState)(1),b=Object(Se.a)(d,2),f=b[0],h=b[1],m=(f-1)*i+1,O=f*i;return Object(j.jsxs)("div",{className:Ie.a.paginator,children:[f>1&&Object(j.jsx)("button",{onClick:function(){h(f-1)},children:Object(j.jsx)("i",{class:"fas fa-angle-double-left"})}),u.filter((function(e){return e>=m&&e<=O})).map((function(e){return Object(j.jsxs)("span",{className:Te()(Object(ke.a)({},Ie.a.activePage,s===e),Ie.a.pageNumber),onClick:function(t){r(e)},children:[e," "]},e)})),f<p&&Object(j.jsx)("button",{onClick:function(){h(f+1)},children:Object(j.jsx)("i",{class:"fas fa-angle-double-right"})})]})},Fe=n(27),Me=n.n(Fe),Be=n(7),Ee=function(e){var t=e.user,n=e.followingInProgress,s=e.follow,a=e.unfollow,r=t;return Object(j.jsxs)("div",{className:Me.a.user_wrapper,children:[Object(j.jsx)("div",{className:Me.a.user_photo,children:Object(j.jsx)(b.b,{to:"/profile/"+r.id,children:Object(j.jsx)("img",{src:null!=r.photos.small?r.photos.small:Be.a})})}),Object(j.jsx)("div",{className:Me.a.user_name,children:Object(j.jsx)("div",{children:r.name})}),Object(j.jsx)("div",{className:Me.a.user_button,children:r.followed?Object(j.jsx)("button",{className:Me.a.user_buttonUnfollow,disabled:n.some((function(e){return e===r.id})),onClick:function(){a(r.id)},children:"Unfollow"}):Object(j.jsx)("button",{className:Me.a.user_buttonFollow,disabled:n.some((function(e){return e===r.id})),onClick:function(){s(r.id)},children:"Follow"})})]})},Le=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Ue,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize}),Object(j.jsx)("div",{className:Me.a.users_wrapper,children:e.users.map((function(t){return Object(j.jsx)("div",{children:Object(j.jsx)(Ee,{user:t,follow:e.follow,unfollow:e.unfollow,followingInProgress:e.followingInProgress})},t.id)}))})]})},De=n.p+"static/media/spinner.8a848a67.gif",qe=n(65),Re=n.n(qe),ze=function(e){return Object(j.jsx)("div",{className:Re.a.preloader_wrapper,children:Object(j.jsx)("img",{src:De})})},Je=function(e){return e.usersPage.users},We=function(e){return e.usersPage.pageSize},Ve=function(e){return e.usersPage.totalUsersCount},Ge=function(e){return e.usersPage.currentPage},He=function(e){return e.usersPage.isfetcing},Ye=function(e){return e.usersPage.followingInProgress},Qe=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[this.props.isfetcing?Object(j.jsx)(ze,{}):null,Object(j.jsx)(Le,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,unfollow:this.props.unfollow,follow:this.props.follow,users:this.props.users,followingInProgress:this.props.followingInProgress})]})}}]),n}(r.a.Component),Ze=Object(x.d)(Object(Ne.b)((function(e){return{users:Je(e),pageSize:We(e),totalUsersCount:Ve(e),currentPage:Ge(e),isfetcing:He(e),followingInProgress:Ye(e)}}),{follow:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:he(n,e,k.postFollow.bind(k),pe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:he(n,e,k.deleteFollow.bind(k),de);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:je,tooggleFollowingProgress:fe,getUsers:function(e,t){return function(){var n=Object(w.a)(P.a.mark((function n(s){var a;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(be(!0)),s(je(e)),n.next=4,k.getUsers(e,t);case 4:a=n.sent,s(be(!1)),s((o=a.items,{type:re,users:o})),s((r=a.totalCount,{type:ie,totalCount:r}));case 8:case"end":return n.stop()}var r,o}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Qe),Xe=n(28),Ke=n.n(Xe),$e=n.p+"static/media/user.e7c5e3b2.img",et=n(20),tt=n.n(et),nt=function(e){var t=Object(a.useState)(!1),n=Object(Se.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)(e.state),i=Object(Se.a)(o,2),c=i[0],u=i[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(j.jsxs)("div",{children:[!s&&Object(j.jsx)("div",{children:Object(j.jsx)("span",{onClick:function(){r(!0)},children:e.status||"----"})}),s&&Object(j.jsx)("div",{className:tt.a.status_input,children:Object(j.jsx)("input",{type:"text",onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)},value:c})})]})},st=function(e){var t=e.contactTitle,n=e.contactValue;return Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:t})," ",n||"-"," "]})},at=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:tt.a.form_block_name_status,children:[Object(j.jsx)("div",{className:tt.a.fullName,children:e.profile.fullName}),Object(j.jsx)("div",{className:tt.a.status,children:Object(j.jsx)(nt,{status:e.status,updateStatus:e.updateStatus})})]}),Object(j.jsxs)("div",{className:tt.a.form_block_job_contacts,children:[e.isOwner&&Object(j.jsx)("button",{className:tt.a.button_edit,onClick:e.changeEditMode,children:"Edit profile"}),Object(j.jsxs)("div",{className:tt.a.aboutMe,children:[Object(j.jsx)("h3",{children:"About me:"}),e.profile.aboutMe||"--"]}),Object(j.jsxs)("div",{className:tt.a.job,children:[Object(j.jsx)("h3",{children:"Info for my job:"}),Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("b",{children:"Searching a job:"}),e.profile.lookingForAJob?"yes":"no"]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Professional skils:"}),e.profile.lookingForAJobDescription]})]}),Object(j.jsxs)("div",{className:tt.a.contacts,children:[Object(j.jsx)("h3",{children:"My contacts:"}),Object.keys(e.profile.contacts).map((function(t){return Object(j.jsx)(st,{contactTitle:t,contactValue:e.profile.contacts[t]},t.id)}))]})]})]})})},rt=n(8),ot=n(45),it=n.n(ot),ct=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(rt.c,{initialValues:{fullName:e.profile.fullName,lookingForAJobDescription:e.profile.lookingForAJobDescription||"--",aboutMe:e.profile.aboutMe},onSubmit:e.saveForm,children:function(t){var n=t.values,s=(t.errors,t.touched,t.handleChange,t.handleBlur,t.handleSubmit),a=t.isSubmitting;return Object(j.jsx)(rt.b,{onSubmit:s,children:Object(j.jsxs)("div",{className:it.a.formChange_wrapper,children:[Object(j.jsx)("h3",{children:"About me:"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"My full name"}),Object(j.jsx)(rt.a,{type:"text",name:"fullName",value:n.fullName})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"My interesting"}),Object(j.jsx)(rt.a,{type:"textarea",name:"aboutMe",value:n.aboutMe})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"My job:"}),Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("b",{children:"Searching a job"}),Object(j.jsx)(rt.a,{type:"checkbox",name:"lookingForAJob"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Professional skils"}),Object(j.jsx)(rt.a,{type:"textarea",name:"lookingForAJobDescription",value:n.lookingForAJobDescription})]})]}),Object(j.jsxs)("div",{className:it.a.contacts,children:[Object(j.jsx)("h3",{children:"My contacts:"}),Object.keys(e.profile.contacts).map((function(t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:t}),"  ",Object(j.jsx)("div",{children:Object(j.jsx)(rt.a,{type:"text",placeholder:t,name:"contacts."+t,value:e.profile.contacts[t]},t.id)})]})}))]}),Object(j.jsx)("button",{className:it.a.buttonSave,type:"submit",disabled:a,children:"Save"})]})})}})})},ut=function(e){var t=Object(a.useState)(!1),n=Object(Se.a)(t,2),s=n[0],r=n[1];if(!e.profile)return Object(j.jsx)(ze,{});return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:Ke.a.description,children:[Object(j.jsx)("div",{className:Ke.a.backgroundImg}),Object(j.jsxs)("div",{className:Ke.a.editPhoto_Wrapper,children:[Object(j.jsx)("img",{src:e.profile.photos.large||$e,className:Ke.a.photo}),Object(j.jsxs)("div",{className:Ke.a.editPhoto,children:[e.isOwner&&Object(j.jsx)("input",{className:Ke.a.editPhoto_input,type:"file",id:"input__file",onChange:function(t){t.target.files.length&&e.putPhotos(t.target.files[0])}}),Object(j.jsx)("label",{className:Ke.a.editPhoto_label,for:"input__file",children:Object(j.jsx)("i",{class:"fas fa-camera-retro"})})]})]}),Object(j.jsx)("div",{className:Ke.a.form_wrapper,children:s?Object(j.jsx)(ct,{profile:e.profile,saveForm:function(t,n){var s=n.setSubmitting;e.changeProfile(t),r(!1),s(!1)}}):Object(j.jsx)(at,{status:e.status,updateStatus:e.updateStatus,changeEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner})})]})})},lt=n(30),pt=n.n(lt),dt=function(e){return Object(j.jsxs)("div",{className:pt.a.postBlock,children:[Object(j.jsxs)("div",{className:pt.a.postBlock_img,children:[Object(j.jsx)("div",{className:pt.a.img,children:Object(j.jsx)("img",{src:Be.a})}),Object(j.jsx)("div",{className:pt.a.name,children:'"Name User" '}),Object(j.jsx)("div",{className:pt.a.time,children:'"Time of post"'})]}),Object(j.jsx)("div",{className:pt.a.postBlock_post,children:e.message}),Object(j.jsxs)("div",{className:pt.a.postBlock_likes,children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("i",{class:"fas fa-heart"}),"  ",e.likesNumber]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("i",{class:"fas fa-comments"})," ",e.likesNumber]})]})]})},jt=n(33),bt=n.n(jt),ft=function(e){var t={};return e.newPostText.length>700?t.newPostText="Please write maximum 700 simbols":e.newPostText.length<1&&(t.newPostText="You can not send an empty message"),t},ht=function(e){var t=e.posts.map((function(t){return Object(j.jsx)(dt,{profile:e.profile,message:t.message,likesNumber:t.likesNumber},t.id)}));return Object(j.jsxs)("div",{className:bt.a.postsBlock,children:[Object(j.jsx)("h3",{children:"My blog"}),Object(j.jsx)("div",{children:Object(j.jsx)(rt.c,{initialValues:{newPostText:""},validate:ft,onSubmit:function(t,n){var s=n.setSubmitting;e.addPost(t.newPostText),s(!1)},children:function(e){e.values;var t=e.errors,n=e.touched,s=e.handleChange,a=e.handleBlur,r=e.handleSubmit,o=e.isSubmitting;return Object(j.jsx)(rt.b,{onSubmit:r,children:Object(j.jsxs)("div",{className:bt.a.inputPostBlock,children:[Object(j.jsxs)("div",{className:bt.a.inputPost,children:[Object(j.jsx)(rt.a,{component:"textarea",onChange:s,onBlur:a,type:"textarea",name:"newPostText",placeholder:"Write new post here..."}),Object(j.jsx)("div",{className:bt.a.error,children:t.newPostText&&n.newPostText&&t.newPostText})]}),Object(j.jsx)("div",{className:bt.a.buttonPost,children:Object(j.jsx)("button",{type:"submit",disabled:o,children:" Add post "})})]})})}})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:bt.a.posts,children:t})})]})},mt=Object(Ne.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(function(e){return{type:V,newPostText:e}}(t))}}}))(ht),Ot=function(e){return e.profile?Object(j.jsxs)("div",{children:[Object(j.jsx)(ut,{isOwner:e.isOwner,putPhotos:e.putPhotos,profile:e.profile,status:e.status,updateStatus:e.updateStatus,changeProfile:e.changeProfile}),Object(j.jsx)(mt,{profile:e.profile})]}):Object(j.jsx)(ze,{})},gt=(n(68),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"updateProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return Object(j.jsx)(Ot,Object(d.a)(Object(d.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,putPhotos:this.props.putPhotos,changeProfile:this.props.changeProfile}))}}]),n}(r.a.Component)),_t=Object(x.d)(Object(Ne.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfile:$,updateStatus:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:0===t.sent.data.resultCode&&n(X(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:s=t.sent,n(X(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},putPhotos:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:0===(s=t.sent).data.resultCode&&n(K(s.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeProfile:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n,s){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s().auth.id,t.next=3,M(e);case 3:0===t.sent.data.resultCode&&n($(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),_.f)(gt),xt=n(31),vt=n.n(xt),Pt=n.p+"static/media/logo.e1e33ec7.png",wt=function(e){return Object(j.jsxs)("header",{className:vt.a.header,children:[Object(j.jsx)("img",{src:Pt}),Object(j.jsx)("div",{className:vt.a.loginBlock,children:e.isAuth?Object(j.jsxs)("div",{className:vt.a.loginBlock_logout,children:[Object(j.jsx)("span",{className:vt.a.userImg,children:Object(j.jsx)("img",{src:Be.a})}),Object(j.jsx)("span",{className:vt.a.login,children:e.login}),Object(j.jsxs)("span",{className:vt.a.buttonLogout,children:[Object(j.jsx)("button",{onClick:e.logout,children:"Log out"})," "]})]}):Object(j.jsx)("div",{className:vt.a.buttonLogin,children:Object(j.jsx)(b.b,{to:"/login",children:"Log in"})})})]})},yt=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)(wt,Object(d.a)({},this.props))}}]),n}(r.a.Component),Nt=Object(Ne.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.profilePage.profile}}),{logout:function(){return function(e){I().then((function(t){0===t.data.resultCode&&e(D(null,null,null,!1))}))}}})(yt),kt=n(34),St=n.n(kt),Ct=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<6&&(t.password="Must be more then 6 characters"):t.password="Required",t},It=Object(Ne.b)((function(e){return{isAuth:e.auth.isAuth,captcha:e.auth.captcha}}),{login:function(e,t,n,s){return function(a){C(e,t,n,s).then((function(e){0===e.data.resultCode?a(q()):10===e.data.resultCode&&a(R())}))}},getCaptcha:R})((function(e){return e.isAuth?Object(j.jsx)(_.a,{to:"/profile"}):Object(j.jsxs)("div",{className:St.a.login_wrapper,children:[Object(j.jsx)("h1",{children:"Welcome to Chevos'ka social network !"}),Object(j.jsx)("div",{children:Object(j.jsx)(rt.c,{initialValues:{email:"",password:"",checkbox:"true"},validate:Ct,onSubmit:function(t,n){e.login(t.email,t.password,t.checkbox,t.captcha),n.setSubmitting(!1)},children:function(t){var n=t.values,s=t.errors,a=t.touched,r=t.handleChange,o=t.handleBlur,i=t.handleSubmit,c=t.isValid,u=t.isSubmitting;return Object(j.jsx)("div",{className:St.a.loginForm,children:Object(j.jsxs)(rt.b,{onSubmit:i,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(rt.a,{onChange:r,onBlur:o,type:"email",name:"email",placeholder:"Login",value:n.email}),Object(j.jsxs)("div",{className:St.a.error,children:[" ",s.email&&a.email&&s.email]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(rt.a,{onChange:r,onBlur:o,type:"password",name:"password",placeholder:"Password",value:n.password}),Object(j.jsxs)("div",{className:St.a.error,children:[s.password&&a.password&&s.password," "]})]}),Object(j.jsxs)("div",{className:St.a.checkbox,children:[Object(j.jsx)(rt.a,{onChange:r,type:"checkbox",name:"checkbox"})," remember me"]}),e.captcha&&Object(j.jsx)("img",{src:e.captcha}),e.captcha&&Object(j.jsx)(rt.a,{onChange:r,type:"text",name:"captcha"}),Object(j.jsx)("div",{className:St.a.buttonLogin,children:Object(j.jsx)("button",{type:"submit",disabled:!c||u,children:"Log in"})})]})})}})})]})})),At=r.a.lazy((function(){return n.e(3).then(n.bind(null,106))})),Tt=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.isInitialised?Object(j.jsxs)("div",{className:"app-wrapper",children:[Object(j.jsx)(Nt,{}),Object(j.jsx)(m,{}),Object(j.jsxs)("div",{className:"app-wrapper-content",children:[Object(j.jsx)(_.b,{exact:!0,path:"/",render:function(){return Object(j.jsx)(_.a,{to:"/profile"})}}),Object(j.jsx)(_.b,{path:"/profile/:userId?",render:function(){return Object(j.jsx)(_t,{})}}),Object(j.jsx)(_.b,{path:"/dialog",render:(e=At,function(t){return Object(j.jsx)(a.Suspense,{fallback:Object(j.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(j.jsx)(e,Object(d.a)({},t))})})}),Object(j.jsx)(_.b,{path:"/music",render:function(){return Object(j.jsx)(O,{})}}),Object(j.jsx)(_.b,{path:"/setting",render:function(){return Object(j.jsx)(g,{})}}),Object(j.jsx)(_.b,{path:"/users",render:function(){return Object(j.jsx)(Ze,{})}}),Object(j.jsx)(_.b,{path:"/login",render:function(){return Object(j.jsx)(It,{})}})]})]}):Object(j.jsx)(ze,{});var e}}]),n}(a.Component),Ut=Object(x.d)(_.f,Object(Ne.b)((function(e){return{isInitialised:e.app.isInitialised}}),{initializeApp:function(){return function(e){var t=e(q());Promise.all([t]).then((function(){e({type:ge})}))}}}))(Tt),Ft=function(e){return Object(j.jsx)(b.a,{basename:"/my-project",children:Object(j.jsx)(Ne.a,{store:ye,children:Object(j.jsx)(Ut,{})})})};i.a.render(Object(j.jsx)(Ft,{}),document.getElementById("root")),s()},19:function(e,t,n){e.exports={nav:"Navbar_nav__UerlR",item:"Navbar_item__3uoy-",active:"Navbar_active__1aqQl"}},20:function(e,t,n){e.exports={form_block_name_status:"ProfileForm_form_block_name_status__3tRcD",fullName:"ProfileForm_fullName__1gRGJ",status:"ProfileForm_status__2d0Wu",status_input:"ProfileForm_status_input__2nSQ0",button_edit:"ProfileForm_button_edit__2BJYY",form_block_job_contacts:"ProfileForm_form_block_job_contacts__1c0TP"}},27:function(e,t,n){e.exports={users_wrapper:"Users_users_wrapper__2iSEQ",user_wrapper:"Users_user_wrapper__ay5dj",user_photo:"Users_user_photo__3xj3L",user_button:"Users_user_button__39lDl",user_buttonUnfollow:"Users_user_buttonUnfollow__253Cc",user_name:"Users_user_name__2qYQq"}},28:function(e,t,n){e.exports={description:"Profileinfo_description__3wem2",backgroundImg:"Profileinfo_backgroundImg__1vVEI",photo:"Profileinfo_photo__L8xd2",editPhoto:"Profileinfo_editPhoto__1MR1c",editPhoto_Wrapper:"Profileinfo_editPhoto_Wrapper__17duZ",editPhoto_input:"Profileinfo_editPhoto_input__-yVFm",editPhoto_label:"Profileinfo_editPhoto_label__tQNC1",form_wrapper:"Profileinfo_form_wrapper__paOyD"}},30:function(e,t,n){e.exports={postBlock:"Post_postBlock__2W0JB",postBlock_img:"Post_postBlock_img__1nDJc",name:"Post_name__uzqtr",time:"Post_time__2nWa8",img:"Post_img__38J2z",postBlock_post:"Post_postBlock_post__3aUmf",postBlock_likes:"Post_postBlock_likes__1_wad"}},31:function(e,t,n){e.exports={header:"Header_header__1YroQ",loginBlock:"Header_loginBlock__2aYJs",loginBlock_logout:"Header_loginBlock_logout__3MfhW",login:"Header_login__1wWjh",userImg:"Header_userImg__2XgG7",buttonLogout:"Header_buttonLogout__1Ffyh",buttonLogin:"Header_buttonLogin__QDgul"}},33:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__1FlvS",posts:"MyPosts_posts__32t08",inputPostBlock:"MyPosts_inputPostBlock__3ulrU",buttonPost:"MyPosts_buttonPost__pCivc",error:"MyPosts_error__1_DOy"}},34:function(e,t,n){e.exports={login_wrapper:"LoginPage_login_wrapper__3Lf8v",loginForm:"LoginPage_loginForm__1u2kc",error:"LoginPage_error__3u0Zt",buttonLogin:"LoginPage_buttonLogin__14Yyk"}},44:function(e,t,n){e.exports={paginator:"Paginator_paginator__YfgDA",pageNumber:"Paginator_pageNumber__1VC4O",activePage:"Paginator_activePage__2sABI"}},45:function(e,t,n){e.exports={formChange_wrapper:"ProfileFormChange_formChange_wrapper__XKTfS",contacts:"ProfileFormChange_contacts__2sB8Z",buttonSave:"ProfileFormChange_buttonSave__1UTGa"}},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var s=n(36),a=n(2),r=n(7),o="SEND-MESSAGE-BODY",i={dialogs:[{name:"Nastya",id:"1",photo:r.a},{name:"Maksim",id:"2",photo:r.a},{name:"Sacha",id:"3",photo:r.a},{name:"Alina",id:"4",photo:r.a},{name:"Zenia",id:"5",photo:r.a},{name:"Veronika",id:"6",photo:r.a}],messages:[{id:1,message:"Hello, how are you?",name:"Nastya Atroshanka",time:"01.09.2021",photo:r.a},{id:2,message:"Hi, i am fine!",name:"Nastya Atroshanka",time:"01.09.2021",photo:r.a},{id:3,message:"What is you name?",name:"Nastya Atroshanka",time:"01.09.2021",photo:r.a},{id:4,message:"My name is Nastya. What is your name?",name:"Nastya Atroshanka",time:"01.09.2021",photo:r.a},{id:5,message:"My name is Maksim.",name:"Nastya Atroshanka",time:"01.09.2021",photo:r.a}]},c=function(e){return{type:o,newMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n=t.newMessage;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),[{id:5,message:n,name:"Nastya Atroshanka",time:"01.09.2021",photo:r.a}])});default:return e}}},65:function(e,t,n){e.exports={preloader_wrapper:"Preloader_preloader_wrapper__1EPI_"}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var s=n(2),a=n(21),r=n(22),o=n(24),i=n(23),c=n(1),u=n.n(c),l=n(3),p=n(9),d=n(0),j=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(o.a)(c,t);var n=Object(i.a)(c);function c(){return Object(a.a)(this,c),n.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(e,Object(s.a)({},this.props)):Object(d.jsx)(l.a,{to:"/login"})}}]),c}(u.a.Component);return Object(p.b)(j)(t)}},7:function(e,t,n){"use strict";t.a=n.p+"static/media/user.7a28dde6.png"},73:function(e,t,n){},75:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.d482372d.chunk.js.map